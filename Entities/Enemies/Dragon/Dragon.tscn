[gd_scene load_steps=15 format=3 uid="uid://byrmqaqlddrrn"]

[ext_resource type="PackedScene" uid="uid://cshwo6wiegxqm" path="res://Entities/Enemies/Core/beast.tscn" id="1_n3g6u"]
[ext_resource type="Script" path="res://Entities/Enemies/IdleState.gd" id="2_npnky"]
[ext_resource type="Texture2D" uid="uid://b355x63jijamw" path="res://alleged_dragon.png" id="3_2xufx"]

[sub_resource type="SkeletonModification2DCCDIK" id="SkeletonModification2DCCDIK_g5rsv"]
target_nodepath = NodePath("../IKTargets/footLTarget")
tip_nodepath = NodePath("body1/legL/shinL/footL")
ccdik_data_chain_length = 2
joint_data/0/bone_index = 5
joint_data/0/bone2d_node = NodePath("body1/legL")
joint_data/0/rotate_from_joint = false
joint_data/0/enable_constraint = false
joint_data/0/editor_draw_gizmo = true
joint_data/1/bone_index = 6
joint_data/1/bone2d_node = NodePath("body1/legL/shinL")
joint_data/1/rotate_from_joint = false
joint_data/1/enable_constraint = true
joint_data/1/constraint_angle_min = -54.31
joint_data/1/constraint_angle_max = 233.28
joint_data/1/constraint_angle_invert = true
joint_data/1/constraint_in_localspace = true
joint_data/1/editor_draw_gizmo = true

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_rcn1f"]
bone_index = 7
bone2d_node = NodePath("body1/legL/shinL/footL")
target_nodepath = NodePath("../IKTargets/footLTarget/footLLookAt")
enable_constraint = true
constraint_angle_min = -21.772
constraint_angle_max = 107.737
constraint_angle_invert = true
constraint_in_localspace = true

[sub_resource type="SkeletonModificationStack2D" id="SkeletonModificationStack2D_0mc3s"]
enabled = true
modification_count = 2
modifications/0 = SubResource("SkeletonModification2DCCDIK_g5rsv")
modifications/1 = SubResource("SkeletonModification2DLookAt_rcn1f")

[sub_resource type="AtlasTexture" id="AtlasTexture_h7qfg"]
atlas = ExtResource("3_2xufx")
region = Rect2(361, 233, 180, 78)

[sub_resource type="AtlasTexture" id="AtlasTexture_4s3rr"]
atlas = ExtResource("3_2xufx")
region = Rect2(222, 315, 190, 81)

[sub_resource type="AtlasTexture" id="AtlasTexture_pkksj"]
atlas = ExtResource("3_2xufx")
region = Rect2(391.222, 113.886, 106.686, 53.0605)

[sub_resource type="AtlasTexture" id="AtlasTexture_8vfvm"]
atlas = ExtResource("3_2xufx")
region = Rect2(384.451, 183.545, 111.962, 47.0748)

[sub_resource type="AtlasTexture" id="AtlasTexture_fcxco"]
atlas = ExtResource("3_2xufx")
region = Rect2(520.347, 39.7273, 158.566, 82.1053)

[sub_resource type="AtlasTexture" id="AtlasTexture_p501j"]
atlas = ExtResource("3_2xufx")
region = Rect2(386.931, 399.105, 86.3039, 56.9139)

[sub_resource type="AtlasTexture" id="AtlasTexture_iqa5l"]
atlas = ExtResource("3_2xufx")
region = Rect2(386.929, 473.082, 96.1006, 51.7823)

[sub_resource type="AtlasTexture" id="AtlasTexture_gpxg6"]
atlas = ExtResource("3_2xufx")
region = Rect2(380.637, 524.118, 103.7, 44.6083)

[node name="Dragon" type="Node2D"]

[node name="Beast" parent="." instance=ExtResource("1_n3g6u")]

[node name="StateMachine" parent="Beast" index="0"]
initial_state = NodePath("IdleState")

[node name="IdleState" type="Node" parent="Beast/StateMachine" index="0"]
script = ExtResource("2_npnky")

[node name="GroundCollider" parent="Beast" index="2"]
position = Vector2(0, 137)

[node name="SkeletonComponent" parent="Beast" index="5"]
modification_stack = SubResource("SkeletonModificationStack2D_0mc3s")

[node name="body1" type="Bone2D" parent="Beast/SkeletonComponent" index="0"]
position = Vector2(0, -131)
rest = Transform2D(1, 0, 0, 1, 0, -131)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1"]
remote_path = NodePath("../../../Sprites/body1")

[node name="body2" type="Bone2D" parent="Beast/SkeletonComponent/body1"]
position = Vector2(163, -39)
rest = Transform2D(1, 0, 0, 1, 163, -39)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1/body2"]
remote_path = NodePath("../../../../Sprites/body2")

[node name="neck1" type="Bone2D" parent="Beast/SkeletonComponent/body1/body2"]
position = Vector2(99, -53)
rest = Transform2D(1, 0, 0, 1, 99, -53)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1/body2/neck1"]
remote_path = NodePath("../../../../../Sprites/neck1")

[node name="neck2" type="Bone2D" parent="Beast/SkeletonComponent/body1/body2/neck1"]
position = Vector2(93, -32)
rest = Transform2D(1, 0, 0, 1, 93, -32)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1/body2/neck1/neck2"]
remote_path = NodePath("../../../../../../Sprites/neck2")

[node name="head" type="Bone2D" parent="Beast/SkeletonComponent/body1/body2/neck1/neck2"]
position = Vector2(25, -97)
rest = Transform2D(1, 0, 0, 1, 25, -97)
auto_calculate_length_and_angle = false
length = 60.0
bone_angle = 0.0

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1/body2/neck1/neck2/head"]
remote_path = NodePath("../../../../../../../Sprites/head")

[node name="legL" type="Bone2D" parent="Beast/SkeletonComponent/body1"]
position = Vector2(-29, 81)
rotation = -0.466239
scale = Vector2(0.999941, 0.999941)
rest = Transform2D(0.999907, 0.00821487, -0.00821487, 0.999907, -29, 81)
metadata/_local_pose_override_enabled_ = true

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1/legL"]
remote_path = NodePath("../../../../Sprites/legL")

[node name="shinL" type="Bone2D" parent="Beast/SkeletonComponent/body1/legL"]
position = Vector2(62.006, 69.0058)
rotation = 0.340429
scale = Vector2(0.999992, 0.999992)
rest = Transform2D(0.996318, 0.0856444, -0.0856444, 0.996318, 62.0059, 69.0058)
metadata/_local_pose_override_enabled_ = true

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1/legL/shinL"]
remote_path = NodePath("../../../../../Sprites/shinL")

[node name="footL" type="Bone2D" parent="Beast/SkeletonComponent/body1/legL/shinL"]
position = Vector2(-54.0098, 103.02)
rotation = 0.375302
scale = Vector2(0.999973, 0.999973)
rest = Transform2D(0.995561, -0.0938251, 0.0938251, 0.995561, -54.0098, 103.02)
auto_calculate_length_and_angle = false
length = 100.0
bone_angle = 0.0
metadata/_local_pose_override_enabled_ = true

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/body1/legL/shinL/footL"]
remote_path = NodePath("../../../../../../Sprites/footL")

[node name="body1" type="Sprite2D" parent="Beast/Sprites" index="0"]
position = Vector2(0, -131)
texture = SubResource("AtlasTexture_h7qfg")

[node name="body2" type="Sprite2D" parent="Beast/Sprites" index="1"]
position = Vector2(163, -170)
texture = SubResource("AtlasTexture_4s3rr")

[node name="neck1" type="Sprite2D" parent="Beast/Sprites" index="2"]
position = Vector2(262, -223)
texture = SubResource("AtlasTexture_pkksj")

[node name="neck2" type="Sprite2D" parent="Beast/Sprites" index="3"]
position = Vector2(355, -255)
texture = SubResource("AtlasTexture_8vfvm")

[node name="head" type="Sprite2D" parent="Beast/Sprites" index="4"]
position = Vector2(380, -352)
texture = SubResource("AtlasTexture_fcxco")

[node name="legL" type="Sprite2D" parent="Beast/Sprites" index="5"]
position = Vector2(-29, -50)
rotation = 0.175831
scale = Vector2(0.99994, 0.99994)
texture = SubResource("AtlasTexture_p501j")

[node name="shinL" type="Sprite2D" parent="Beast/Sprites" index="6"]
position = Vector2(19.976, 28.7836)
rotation = -0.292786
scale = Vector2(0.999931, 0.999931)
texture = SubResource("AtlasTexture_iqa5l")

[node name="footL" type="Sprite2D" parent="Beast/Sprites" index="7"]
position = Vector2(-2, 143)
scale = Vector2(0.999905, 0.999905)
texture = SubResource("AtlasTexture_gpxg6")

[node name="footLTarget" type="Node2D" parent="Beast/IKTargets" index="0"]
position = Vector2(-2, 143)

[node name="footLLookAt" type="Node2D" parent="Beast/IKTargets/footLTarget"]
position = Vector2(216, 0)

[editable path="Beast"]
