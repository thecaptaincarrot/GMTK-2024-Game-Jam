[gd_scene load_steps=15 format=3 uid="uid://by0cqitx42f6i"]

[ext_resource type="Script" path="res://Entities/Enemies/Slime/slime.gd" id="1_rb4j3"]
[ext_resource type="PackedScene" uid="uid://cshwo6wiegxqm" path="res://Entities/Enemies/Core/beast.tscn" id="2_uj5dt"]
[ext_resource type="Script" path="res://Entities/Enemies/Slime/States/IdleState.gd" id="3_wfgqw"]
[ext_resource type="Texture2D" uid="uid://dlpet2r0x26de" path="res://Textures/Entities/gelatinousmass.png" id="4_hw4sg"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_aove2"]

[sub_resource type="SkeletonModification2DJiggle" id="SkeletonModification2DJiggle_yl23k"]
target_nodepath = NodePath("../IKTargets/undulator1")
jiggle_data_chain_length = 2
joint_data/0/bone_index = 7
joint_data/0/bone2d_node = NodePath("base/slime")
joint_data/0/override_defaults = false
joint_data/1/bone_index = 8
joint_data/1/bone2d_node = NodePath("base/slime/slime2")
joint_data/1/override_defaults = false

[sub_resource type="SkeletonModification2DJiggle" id="SkeletonModification2DJiggle_1j6ro"]
target_nodepath = NodePath("../IKTargets/undulator1")
jiggle_data_chain_length = 3
joint_data/0/bone_index = 1
joint_data/0/bone2d_node = NodePath("base/slime4")
joint_data/0/override_defaults = false
joint_data/1/bone_index = 2
joint_data/1/bone2d_node = NodePath("base/slime4/slime5")
joint_data/1/override_defaults = false
joint_data/2/bone_index = 3
joint_data/2/bone2d_node = NodePath("base/slime4/slime5/slime6")
joint_data/2/override_defaults = false

[sub_resource type="SkeletonModification2DJiggle" id="SkeletonModification2DJiggle_vq10s"]
target_nodepath = NodePath("../IKTargets/undulator1/undulator3")
jiggle_data_chain_length = 1
joint_data/0/bone_index = 16
joint_data/0/bone2d_node = NodePath("base/skullbase/skull")
joint_data/0/override_defaults = false

[sub_resource type="SkeletonModification2DJiggle" id="SkeletonModification2DJiggle_li72i"]
target_nodepath = NodePath("../IKTargets/undulator1/undulator2")
jiggle_data_chain_length = 1
stiffness = 1.0
mass = 3.0
use_gravity = true
joint_data/0/bone_index = 18
joint_data/0/bone2d_node = NodePath("base/skullbase/bone5")
joint_data/0/override_defaults = false

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_tydul"]
bone_index = 13
bone2d_node = NodePath("base/leftgoop")
target_nodepath = NodePath("../IKTargets/leftgoopLookAt")

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_41igk"]
bone_index = 14
bone2d_node = NodePath("base/rightgoop")
target_nodepath = NodePath("../IKTargets/rightgoopLookAt")

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_es62a"]
bone_index = 20
bone2d_node = NodePath("base/blobbase/blob2")
target_nodepath = NodePath("../IKTargets/undulator1/undulator3")
enable_constraint = true
constraint_angle_min = -30.21
constraint_angle_max = 12.588
constraint_angle_invert = true
constraint_in_localspace = true
additional_rotation = 85.99

[sub_resource type="SkeletonModification2DLookAt" id="SkeletonModification2DLookAt_nqb65"]
bone_index = 21
bone2d_node = NodePath("base/blobbase/blob1")
target_nodepath = NodePath("../IKTargets/undulator1/undulator2")
enable_constraint = true
constraint_angle_min = 15.103
constraint_angle_max = -12.587
constraint_angle_invert = true
constraint_in_localspace = true
additional_rotation = 30.0

[sub_resource type="SkeletonModificationStack2D" id="SkeletonModificationStack2D_mm7ye"]
enabled = true
modification_count = 8
modifications/0 = SubResource("SkeletonModification2DJiggle_yl23k")
modifications/1 = SubResource("SkeletonModification2DJiggle_1j6ro")
modifications/2 = SubResource("SkeletonModification2DJiggle_vq10s")
modifications/3 = SubResource("SkeletonModification2DJiggle_li72i")
modifications/4 = SubResource("SkeletonModification2DLookAt_tydul")
modifications/5 = SubResource("SkeletonModification2DLookAt_41igk")
modifications/6 = SubResource("SkeletonModification2DLookAt_es62a")
modifications/7 = SubResource("SkeletonModification2DLookAt_nqb65")

[node name="Slime" type="Node2D"]
script = ExtResource("1_rb4j3")

[node name="Beast" parent="." instance=ExtResource("2_uj5dt")]

[node name="IdleState" type="Node" parent="Beast/StateMachine" index="0"]
script = ExtResource("3_wfgqw")

[node name="AnimationPlayer" parent="Beast" index="2"]
libraries = {
"": SubResource("AnimationLibrary_aove2")
}

[node name="SkeletonComponent" parent="Beast" index="5"]
modification_stack = SubResource("SkeletonModificationStack2D_mm7ye")

[node name="base" type="Bone2D" parent="Beast/SkeletonComponent" index="0"]
rest = Transform2D(1, 0, 0, 1, 0, 0)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base"]

[node name="slime4" type="Bone2D" parent="Beast/SkeletonComponent/base"]
position = Vector2(267, -26)
rotation = -2.94693
scale = Vector2(0.999998, 0.999998)
rest = Transform2D(-0.95402, -0.299737, 0.299737, -0.95402, 267, -26)
metadata/_local_pose_override_enabled_ = true

[node name="slime5" type="Bone2D" parent="Beast/SkeletonComponent/base/slime4"]
position = Vector2(88.6393, 70.6622)
rotation = -0.537545
rest = Transform2D(0.737072, -0.675815, 0.675815, 0.737072, 88.6393, 70.6622)
metadata/_local_pose_override_enabled_ = true

[node name="slime6" type="Bone2D" parent="Beast/SkeletonComponent/base/slime4/slime5"]
position = Vector2(21.3627, 74.4692)
rotation = 0.573228
rest = Transform2D(0.926151, 0.377152, -0.377152, 0.926151, 21.3627, 74.4692)
metadata/_local_pose_override_enabled_ = true

[node name="slime7" type="Bone2D" parent="Beast/SkeletonComponent/base/slime4/slime5/slime6"]
position = Vector2(93.7249, 84.0995)
rotation = -0.614669
rest = Transform2D(0.816964, -0.576688, 0.576688, 0.816964, 93.7249, 84.0995)
auto_calculate_length_and_angle = false
length = 92.343
bone_angle = 64.608

[node name="bone3" type="Bone2D" parent="Beast/SkeletonComponent/base/slime4/slime5/slime6/slime7"]
position = Vector2(-33.9069, -17.3507)
rotation = -2.69494
scale = Vector2(1.00001, 1.00001)
auto_calculate_length_and_angle = false
length = 82.164
bone_angle = -39.403

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/slime4/slime5/slime6/slime7/bone3"]
position = Vector2(16, -63)
remote_path = NodePath("../../../../../../../../Sprites/bone3")

[node name="bone4" type="Bone2D" parent="Beast/SkeletonComponent/base/slime4"]
position = Vector2(56.4204, 22.5117)
rotation = 2.8133
auto_calculate_length_and_angle = false
length = 77.075
bone_angle = -46.567

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/slime4/bone4"]
position = Vector2(49, -67)
remote_path = NodePath("../../../../../Sprites/bone4")

[node name="slime" type="Bone2D" parent="Beast/SkeletonComponent/base"]
position = Vector2(-263, -27)
rotation = 0.423992
scale = Vector2(0.999998, 0.999998)
rest = Transform2D(0.922332, 0.386393, -0.386393, 0.922332, -263, -27)
metadata/_local_pose_override_enabled_ = true

[node name="slime2" type="Bone2D" parent="Beast/SkeletonComponent/base/slime"]
position = Vector2(44, -157)
rotation = -0.604779
rest = Transform2D(0.943771, -0.3306, 0.3306, 0.943771, 44, -157)
metadata/_local_pose_override_enabled_ = true

[node name="slime3" type="Bone2D" parent="Beast/SkeletonComponent/base/slime/slime2"]
position = Vector2(101.236, -96.0672)
rest = Transform2D(1, 0, 0, 1, 101.236, -96.0672)
auto_calculate_length_and_angle = false
length = 81.046
bone_angle = -24.971

[node name="bone2" type="Bone2D" parent="Beast/SkeletonComponent/base/slime/slime2/slime3"]
position = Vector2(-70.9959, -14.5901)
rotation = 0.132523
auto_calculate_length_and_angle = false
length = 82.164
bone_angle = -100.299

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/slime/slime2/slime3/bone2"]
position = Vector2(4, -86)
remote_path = NodePath("../../../../../../../Sprites/bone2")

[node name="bone1" type="Bone2D" parent="Beast/SkeletonComponent/base/slime"]
position = Vector2(-23.9602, -78.8296)
rotation = -0.392329
scale = Vector2(1.00001, 1.00001)
auto_calculate_length_and_angle = false
length = 82.164
bone_angle = -154.03

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/slime/bone1"]
position = Vector2(-56, -83)
remote_path = NodePath("../../../../../Sprites/bone1")

[node name="blob3" type="Bone2D" parent="Beast/SkeletonComponent/base/slime"]
position = Vector2(-8.50138, 22.4884)
rotation = -0.37576
auto_calculate_length_and_angle = false
length = 51.797
bone_angle = -157.612

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/slime/blob3"]
remote_path = NodePath("../../../../../Sprites/blob3")

[node name="leftgoop" type="Bone2D" parent="Beast/SkeletonComponent/base"]
position = Vector2(-274, 35)
rotation = -0.00520849
scale = Vector2(1, 1)
rest = Transform2D(1, 0, 0, 1, -274, 35)
auto_calculate_length_and_angle = false
length = 100.0
bone_angle = 180.0
metadata/_local_pose_override_enabled_ = true

[node name="rightgoop" type="Bone2D" parent="Beast/SkeletonComponent/base"]
position = Vector2(345, 18)
rotation = -0.046695
rest = Transform2D(1, 0, 0, 1, 345, 18)
auto_calculate_length_and_angle = false
length = 100.0
bone_angle = 0.0
metadata/_local_pose_override_enabled_ = true

[node name="skullbase" type="Bone2D" parent="Beast/SkeletonComponent/base"]
position = Vector2(24, -107)
rotation = 0.184329

[node name="skull" type="Bone2D" parent="Beast/SkeletonComponent/base/skullbase"]
position = Vector2(-56.3515, -100.372)
rotation = -0.838678
scale = Vector2(0.999924, 0.999924)
auto_calculate_length_and_angle = false
length = 50.0
bone_angle = 232.685
metadata/_local_pose_override_enabled_ = true

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/skullbase/skull"]
remote_path = NodePath("../../../../../Sprites/skull")

[node name="skull2" type="Bone2D" parent="Beast/SkeletonComponent/base/skullbase/skull"]
position = Vector2(-24, 50)
auto_calculate_length_and_angle = false
length = 44.91
bone_angle = 157.461

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/skullbase/skull/skull2"]
position = Vector2(-26, 40)
remote_path = NodePath("../../../../../../Sprites/skull2")

[node name="bone5" type="Bone2D" parent="Beast/SkeletonComponent/base/skullbase"]
position = Vector2(68.5977, 18.7444)
rotation = 0.0227188
scale = Vector2(0.999872, 0.999872)
auto_calculate_length_and_angle = false
length = 77.075
bone_angle = -46.567
metadata/_local_pose_override_enabled_ = true

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/skullbase/bone5"]
position = Vector2(79, -75)
remote_path = NodePath("../../../../../Sprites/bone5")

[node name="blobbase" type="Bone2D" parent="Beast/SkeletonComponent/base"]
position = Vector2(0, -87)

[node name="blob2" type="Bone2D" parent="Beast/SkeletonComponent/base/blobbase"]
position = Vector2(-177, 105)
auto_calculate_length_and_angle = false
length = 56.716
bone_angle = -13.0972
metadata/_local_pose_override_enabled_ = true

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/blobbase/blob2"]
remote_path = NodePath("../../../../../Sprites/blob2")

[node name="blob1" type="Bone2D" parent="Beast/SkeletonComponent/base/blobbase"]
position = Vector2(152, 76)
rotation = -0.0978063
scale = Vector2(0.999993, 0.999993)
auto_calculate_length_and_angle = false
length = 56.716
bone_angle = -12.587
metadata/_local_pose_override_enabled_ = true

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Beast/SkeletonComponent/base/blobbase/blob1"]
remote_path = NodePath("../../../../../Sprites/blob1")

[node name="Polygon2D" type="Polygon2D" parent="Beast/Sprites" index="0"]
z_index = -45
offset = Vector2(-965, -988)
texture = ExtResource("4_hw4sg")
skeleton = NodePath("../../SkeletonComponent")
polygon = PackedVector2Array(540.696, 989.218, 661.5, 983.815, 693.647, 861.517, 723.706, 758.459, 848.517, 639.401, 1033.95, 625.816, 1172.52, 697.817, 1273.73, 850.649, 1304.97, 947.782, 1465.28, 991.934, 1447.62, 1031.33, 1252.67, 1046.27, 1027.16, 1044.92, 894.706, 1086.35, 525.887, 1035.35, 870.018, 753.701, 778.998, 887.514, 994.321, 976.496, 1149.87, 956.798, 1058.85, 749.626, 848.281, 951.364, 965.113, 715.663, 1128.81, 848.117, 813.019, 828.905, 908.347, 835.694, 1028.35, 827.694)
uv = PackedVector2Array(540.696, 989.218, 661.5, 983.815, 693.647, 861.517, 723.706, 758.459, 848.517, 639.401, 1033.95, 625.816, 1172.52, 697.817, 1273.73, 850.649, 1304.97, 947.782, 1465.28, 991.934, 1447.62, 1031.33, 1252.67, 1046.27, 1027.16, 1044.92, 894.706, 1086.35, 525.887, 1035.35, 870.018, 753.701, 778.998, 887.514, 994.321, 976.496, 1149.87, 956.798, 1058.85, 749.626, 848.281, 951.364, 965.113, 715.663, 1128.81, 848.117, 813.019, 828.905, 908.347, 835.694, 1028.35, 827.694)
polygons = [PackedInt32Array(4, 21, 5), PackedInt32Array(5, 6, 19, 21), PackedInt32Array(6, 7, 22, 19), PackedInt32Array(4, 3, 15, 21), PackedInt32Array(3, 2, 23, 15), PackedInt32Array(2, 16, 23), PackedInt32Array(2, 1, 16), PackedInt32Array(1, 20, 16), PackedInt32Array(22, 18, 8, 7), PackedInt32Array(20, 17, 16), PackedInt32Array(16, 23, 17), PackedInt32Array(23, 24, 17), PackedInt32Array(15, 23, 24), PackedInt32Array(21, 24, 15), PackedInt32Array(21, 25, 24), PackedInt32Array(21, 19, 25), PackedInt32Array(19, 22, 25), PackedInt32Array(22, 17, 18), PackedInt32Array(22, 25, 17), PackedInt32Array(25, 24, 17), PackedInt32Array(1, 0, 14, 13, 20), PackedInt32Array(8, 9, 10, 11, 18), PackedInt32Array(20, 13, 12), PackedInt32Array(12, 11, 18), PackedInt32Array(18, 17, 12), PackedInt32Array(12, 20, 17)]
bones = ["base", PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), "base/slime4", PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0.49, 0, 0, 0.49, 0, 0, 0), "base/slime4/slime5", PackedFloat32Array(0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.49, 0.49, 0, 0, 1, 0, 0, 0), "base/slime4/slime5/slime6", PackedFloat32Array(0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.49, 1, 0, 0, 0.49, 0, 0, 0), "base/slime4/slime5/slime6/slime7", PackedFloat32Array(0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 1, 0, 0, 0, 0), "base/slime", PackedFloat32Array(0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.49, 1, 0, 0, 0, 0, 0, 0, 0.49, 0, 0), "base/slime/slime2", PackedFloat32Array(0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.49, 0.49, 0, 0, 0, 0, 0, 0, 1, 0, 0), "base/slime/slime2/slime3", PackedFloat32Array(0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0.49, 0, 0.49, 0, 0, 0, 0), "base/leftgoop", PackedFloat32Array(1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), "base/rightgoop", PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
internal_vertex_count = 11

[node name="blob1" type="Sprite2D" parent="Beast/Sprites" index="1"]
z_index = -30
position = Vector2(152, -11)
rotation = -0.0978063
scale = Vector2(0.999994, 0.999994)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(332, 939, 180, 68)

[node name="blob2" type="Sprite2D" parent="Beast/Sprites" index="2"]
z_index = -30
position = Vector2(-177, 18)
rotation = -0.434796
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(164, 990, 114, 42)

[node name="blob3" type="Sprite2D" parent="Beast/Sprites" index="3"]
z_index = -40
position = Vector2(-280, -10.0004)
rotation = 0.0482343
scale = Vector2(0.999998, 0.999998)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(91, 948, 37, 54)

[node name="bone1" type="Sprite2D" parent="Beast/Sprites" index="4"]
z_index = -50
position = Vector2(-305.752, -193.439)
rotation = 0.0316653
scale = Vector2(1.00001, 1.00001)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(346, 683, 134, 213)

[node name="bone2" type="Sprite2D" parent="Beast/Sprites" index="5"]
z_index = -50
position = Vector2(-135.326, -351.296)
rotation = 0.0181731
scale = Vector2(0.999995, 0.999995)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(151, 407, 112, 206)

[node name="bone3" type="Sprite2D" parent="Beast/Sprites" index="6"]
z_index = -43
position = Vector2(114.273, -331.312)
rotation = -0.0316544
scale = Vector2(1.00001, 1.00001)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(368, 283, 102, 179)

[node name="bone4" type="Sprite2D" parent="Beast/Sprites" index="7"]
z_index = -42
position = Vector2(255.636, -131.931)
rotation = -0.133631
scale = Vector2(0.999995, 0.999995)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(356, 479, 113, 151)

[node name="bone5" type="Sprite2D" parent="Beast/Sprites" index="8"]
z_index = -40
position = Vector2(180.72, -133.151)
rotation = 0.207048
scale = Vector2(0.999884, 0.999884)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(588, 57, 195, 197)

[node name="skull" type="Sprite2D" parent="Beast/Sprites" index="9"]
z_index = -44
position = Vector2(-13, -216)
rotation = -0.654348
scale = Vector2(0.999936, 0.999936)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(284, 76, 234, 162)

[node name="skull2" type="Sprite2D" parent="Beast/Sprites" index="10"]
position = Vector2(2.10457, -114.165)
rotation = -0.654348
scale = Vector2(0.999936, 0.999936)
texture = ExtResource("4_hw4sg")
region_enabled = true
region_rect = Rect2(83, 127, 147, 112)

[node name="undulator1" type="Node2D" parent="Beast/IKTargets" index="0"]
position = Vector2(0, -341)

[node name="undulator2" type="Node2D" parent="Beast/IKTargets/undulator1"]
position = Vector2(423, 27)

[node name="undulator3" type="Node2D" parent="Beast/IKTargets/undulator1"]
position = Vector2(-407, 18)

[node name="leftgoopLookAt" type="Node2D" parent="Beast/IKTargets" index="1"]
position = Vector2(-466, 36)

[node name="rightgoopLookAt" type="Node2D" parent="Beast/IKTargets" index="2"]
position = Vector2(559, 8)

[editable path="Beast"]
